<div class="otp-widget bg-white p-4 rounded shadow-sm" role="region" aria-label="OTP widget"
     data-expiry="{{ site_settings.otp_expiry_seconds|default:300 }}" data-resend="{{ site_settings.otp_resend_cooldown|default:60 }}">
  <div class="otp-state-send">
    <label class="form-label">شماره موبایل</label>
    <div class="flex items-center gap-2">
      <input type="tel" name="otp_phone" class="form-input flex-1" placeholder="(مثال: 09121234567)" aria-label="phone">
      <button type="button" class="btn btn-outline" data-otp-action="send">ارسال کد</button>
    </div>
    <p class="text-xs text-gray-500 mt-2">کد تایید ظرف <span class="otp-expiry-display">{{ site_settings.otp_expiry_seconds|default:300 }}</span> ثانیه معتبر است.</p>
  </div>

  <div class="otp-state-verify hidden mt-3">
    <label class="form-label">کد تایید</label>
    <div class="flex items-center gap-2">
      <input type="text" name="otp_code" class="form-input flex-1" maxlength="6" placeholder="000000" aria-label="otp-code">
      <button type="button" class="btn btn-primary" data-otp-action="verify">تایید و ورود</button>
    </div>
    <div class="mt-2 flex items-center gap-3">
      <button type="button" class="text-sm text-gray-600 underline" data-otp-action="resend" disabled>ارسال مجدد</button>
      <span class="text-xs text-gray-500 otp-resend-timer hidden">ارسال مجدد در <span class="otp-resend-seconds">0</span>s</span>
    </div>
  </div>

  <div class="otp-feedback mt-3" aria-live="polite"></div>
</div>
