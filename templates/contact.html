{% extends "base.html" %}

{% block title %}تماس با ما | {{ block.super }}{% endblock %}
{% block meta_description %}راه‌های ارتباط سریع با تیم پشتیبانی {{ site_settings.site_name|default:'Accountinox' }} برای پیگیری سفارش و مشاوره خرید.{% endblock %}
{% block canonical %}<link rel="canonical" href="{{ site_base_url }}{% url 'core:contact' %}">{% endblock %}

{% block content %}
<div class="page-wrapper max-w-3xl">
  <nav class="mb-8 reveal" aria-label="breadcrumb">
    <div class="flex items-center gap-2 text-sm text-gray-400">
      <a href="{% url 'core:landing' %}" class="hover:text-primary-600 transition-colors">خانه</a>
      <svg class="w-3 h-3 rotate-180 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
      <span class="text-gray-600 font-medium">تماس با ما</span>
    </div>
  </nav>

  <div class="text-center mb-8 reveal">
    <span class="chip">پشتیبانی</span>
    <h1 class="section-title mt-4">تماس با ما</h1>
    <p class="section-subtitle mt-2 mx-auto">
      برای پیگیری سفارش یا مشاوره خرید، از مسیرهای زیر استفاده کنید.
    </p>
  </div>

  <div class="card p-6 sm:p-8 reveal">
    <div class="flex flex-col sm:flex-row gap-3">
      <a href="{% url 'support:chat' %}" class="btn btn-primary">شروع چت پشتیبانی</a>
      {% if site_settings.telegram_admin_url %}
      <a href="{{ site_settings.telegram_admin_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">تلگرام پشتیبانی</a>
      {% endif %}
    </div>

    <div class="divider my-5"></div>

    <div class="space-y-3">
      {% if site_settings.phone %}
      <div class="flex items-center justify-between gap-3 rounded-xl border border-gray-100 p-4">
        <div>
          <p class="text-xs text-gray-400">تلفن</p>
          <p class="text-sm font-semibold text-gray-900" dir="ltr">{{ site_settings.phone }}</p>
        </div>
        <a href="tel:{{ site_settings.phone }}" class="btn btn-secondary btn-sm">تماس</a>
      </div>
      {% endif %}

      {% if site_settings.email %}
      <div class="flex items-center justify-between gap-3 rounded-xl border border-gray-100 p-4">
        <div>
          <p class="text-xs text-gray-400">ایمیل</p>
          <p class="text-sm font-semibold text-gray-900 break-all" dir="ltr">{{ site_settings.email }}</p>
        </div>
        <a href="mailto:{{ site_settings.email }}" class="btn btn-secondary btn-sm">ارسال ایمیل</a>
      </div>
      {% endif %}

      {% if site_settings.telegram_channel_url %}
      <div class="flex items-center justify-between gap-3 rounded-xl border border-gray-100 p-4">
        <div>
          <p class="text-xs text-gray-400">کانال اطلاع‌رسانی</p>
          <p class="text-sm font-semibold text-gray-900">اطلاعیه‌ها و اخبار سرویس</p>
        </div>
        <a href="{{ site_settings.telegram_channel_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-ghost btn-sm">مشاهده</a>
      </div>
      {% endif %}

      {% if site_settings.instagram_url %}
      <div class="flex items-center justify-between gap-3 rounded-xl border border-gray-100 p-4">
        <div>
          <p class="text-xs text-gray-400">اینستاگرام</p>
          <p class="text-sm font-semibold text-gray-900">صفحه رسمی</p>
        </div>
        <a href="{{ site_settings.instagram_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-ghost btn-sm">مشاهده</a>
      </div>
      {% endif %}
    </div>

    {% if not site_settings.telegram_admin_url and not site_settings.telegram_channel_url and not site_settings.phone and not site_settings.email and not site_settings.instagram_url %}
    <div class="alert alert-info mt-5">
      <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      <p class="leading-7">در حال حاضر مسیر تماس دیگری تنظیم نشده است. لطفا از چت آنلاین استفاده کنید.</p>
    </div>
    {% endif %}
  </div>

  <div class="card p-5 sm:p-6 mt-6 reveal">
    <h2 class="text-sm font-bold text-gray-900">قبل از تماس</h2>
    <div class="divider my-4"></div>
    <ul class="space-y-2 text-sm text-gray-600 leading-7">
      <li>شماره سفارش</li>
      <li>شرح کوتاه مشکل</li>
      <li>اسکرین‌شات خطا (در صورت نیاز)</li>
      <li>ایمیل یا شماره موبایل حساب</li>
    </ul>
  </div>

  <div class="mt-6 text-center reveal flex flex-wrap gap-2 justify-center">
    <a href="{% url 'core:terms' %}" class="btn btn-ghost btn-sm">شرایط استفاده</a>
    <a href="{% url 'core:privacy' %}" class="btn btn-ghost btn-sm">حریم خصوصی</a>
  </div>
</div>
{% endblock %}
