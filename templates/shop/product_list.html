{% extends 'base.html' %}

{% block meta_title %}ูุฑูุดฺฏุงู | {{ site_settings.site_name|default:'Accountinox' }}{% endblock %}
{% block meta_description %}ุฎุฑุฏ ุณุฑุน ุญุณุงุจโูุง ุฏุฌุชุงู ุจุง ุชุญูู ุงูู ู ูพุดุชุจุงู ูุงูุน. ูุณุช ูุญุตููุงุช {{ site_settings.site_name|default:'Accountinox' }}.{% endblock %}
{% block canonical %}<link rel="canonical" href="{{ site_base_url }}{% url 'shop:product_list' %}">{% endblock %}

{% block content %}
  <section class="mb-8 sm:mb-10">
    <div class="card p-5 sm:p-7 bg-gradient-to-br from-white to-slate-50">
      <div class="flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between">
        <div>
          <h1 class="section-title">ูุญุตููุงุช ุฏุฌุชุงู ุขูุงุฏู ุชุญูู</h1>
          <p class="mt-2 text-sm text-slate-600 sm:text-base">
            ูุญุตูู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุจู ุณุจุฏ ุงุถุงูู ฺฉูุฏ ู ูพุฑุฏุงุฎุช ุฑุง ุฏุฑ ฺูุฏ ูุฏู ฺฉูุชุงู ฺฉุงูู ฺฉูุฏ.
          </p>
        </div>
        <a href="{% url 'shop:cart' %}" class="btn btn-ghost w-full sm:w-auto" aria-label="ูุดุงูุฏู ุณุจุฏ ุฎุฑุฏ">ูุดุงูุฏู ุณุจุฏ ุฎุฑุฏ</a>
      </div>
    </div>
  </section>

  <section class="grid grid-cols-1 gap-4 sm:gap-6 md:grid-cols-2 lg:grid-cols-3">
    {% for p in products %}
      <article class="card flex h-full flex-col overflow-hidden animate-fade-up">
        <a href="{{ p.get_absolute_url }}" class="block h-48 overflow-hidden rounded-t-2xl bg-gradient-to-br from-slate-100 to-slate-200" aria-label="ูุดุงูุฏู ูุญุตูู {{ p.title }}">
          {% if p.featured_image %}
            <img src="{{ p.featured_image.url }}" alt="{{ p.title }}" class="h-full w-full object-cover">
          {% else %}
            <div class="flex h-full items-center justify-center text-5xl" aria-hidden="true">๐ฆ</div>
          {% endif %}
        </a>

        <div class="flex flex-1 flex-col p-4 sm:p-5">
          <h2 class="section-title text-lg font-bold text-slate-900">
            <a href="{{ p.get_absolute_url }}">{{ p.title }}</a>
          </h2>
          <p class="mt-2 text-sm leading-7 text-slate-600">{{ p.description|default:'ุชูุถุญุงุช ุงู ูุญุตูู ุฏุฑ ุตูุญู ุฌุฒุฆุงุช ูุฑุงุฑ ุฏุงุฑุฏ.'|truncatechars:130 }}</p>

          <div class="mt-4 flex items-baseline gap-2">
            <strong class="text-2xl text-slate-900">{{ p.price|floatformat:0 }}</strong>
            <span class="text-sm text-slate-500">ุชููุงู</span>
          </div>

          <div class="mt-5 grid grid-cols-1 gap-2">
            <form method="post" action="{% url 'shop:cart_add' %}">
              {% csrf_token %}
              <input type="hidden" name="product_id" value="{{ p.id }}">
              <input type="hidden" name="next" value="{{ request.path }}">
              <button type="submit" class="btn btn-primary w-full">ุงูุฒูุฏู ุจู ุณุจุฏ</button>
            </form>
            <a href="{{ p.get_absolute_url }}" class="btn btn-ghost w-full">ูุดุงูุฏู ุฌุฒุฆุงุช</a>
          </div>
        </div>
      </article>
    {% empty %}
      <div class="alert alert-warning col-span-full text-center">
        ูุญุตูู ุจุฑุง ููุงุด ูุฌูุฏ ูุฏุงุฑุฏ.
      </div>
    {% endfor %}
  </section>

  <section class="brand-cta mt-10 card p-5 sm:p-6">
    <div class="p-4 sm:p-6">
      <p class="text-sm text-white/95">ุงฺฏุฑ ุงูุชุฎุงุจ ูุญุตูู ุจุฑุงุชุงู ุณุฎุช ุงุณุชุ ุชู ูพุดุชุจุงู ุฏุฑ ฺฉูุงุฑ ุดูุงุณุช.</p>
      <div class="mt-3 flex flex-col gap-2 sm:flex-row">
        <a href="{% url 'support:chat' %}" class="btn btn-primary w-full sm:w-auto">ุดุฑูุน ฺฏูุชโูฺฏู ุจุง ูพุดุชุจุงู</a>
        <a href="{% url 'blog:post_list' %}" class="btn btn-soft w-full sm:w-auto">ุฑุงูููุง ุฎุฑุฏ ุฏุฑ ุจูุงฺฏ</a>
      </div>
    </div>
  </section>
{% endblock %}
