:root {
  --brand-primary: #1abbc8;
  --brand-secondary: #0468bd;
  --brand-accent: #45e2cc;
  --admin-bg: #f3f5f9;
  --admin-surface: #ffffff;
  --admin-surface-muted: #f8fafd;
  --admin-border: #d7e0ea;
  --admin-text: #12263a;
  --admin-text-soft: #607589;
  --admin-shadow: 0 10px 26px rgba(18, 38, 58, 0.08);
}

html[dir="rtl"] body {
  direction: rtl;
  text-align: right;
  font-family: "Vazirmatn", "Segoe UI", Tahoma, sans-serif;
  background: radial-gradient(circle at top right, rgba(69, 226, 204, 0.22), transparent 40%), var(--admin-bg);
  color: var(--admin-text);
}

a:focus,
button:focus,
input:focus,
select:focus,
textarea:focus {
  outline: none;
}

input[type="text"],
input[type="password"],
input[type="email"],
input[type="number"],
input[type="url"],
input[type="search"],
textarea,
select {
  border: 1px solid var(--admin-border);
  border-radius: 10px;
  background: var(--admin-surface);
  color: var(--admin-text);
  padding: 0.55rem 0.7rem;
}

input[type="text"]:focus,
input[type="password"]:focus,
input[type="email"]:focus,
input[type="number"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
textarea:focus,
select:focus {
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 3px rgba(26, 187, 200, 0.23);
}

.button,
input[type="submit"],
input[type="button"],
.submit-row input,
a.button {
  border: none;
  border-radius: 10px;
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary));
  color: #fff;
  padding: 0.55rem 1rem;
  font-weight: 600;
  box-shadow: 0 8px 16px rgba(4, 104, 189, 0.24);
  transition: transform 0.15s ease, box-shadow 0.2s ease, filter 0.2s ease;
}

.button:hover,
input[type="submit"]:hover,
input[type="button"]:hover,
.submit-row input:hover,
a.button:hover {
  filter: brightness(0.98);
  transform: translateY(-1px);
  box-shadow: 0 10px 18px rgba(4, 104, 189, 0.3);
}

#header {
  background: linear-gradient(120deg, var(--brand-secondary), var(--brand-primary));
  color: #fff;
  margin: 12px;
  border-radius: 14px;
  box-shadow: var(--admin-shadow);
}

#branding .brand-wrap {
  display: flex;
  align-items: center;
  gap: 0.8rem;
}

#branding .brand-link {
  display: grid;
  gap: 0.15rem;
  text-decoration: none;
}

#branding .brand-title {
  font-size: 1.03rem;
  font-weight: 700;
  color: #fff;
}

#branding .brand-tagline {
  font-size: 0.8rem;
  opacity: 0.9;
  color: #f4f9ff;
}

#branding .env-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-inline-start: 0.75rem;
  padding: 0.2rem 0.6rem;
  border-radius: 999px;
  font-size: 0.68rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  border: 1px solid rgba(255, 255, 255, 0.5);
  background: rgba(255, 255, 255, 0.14);
  color: #fff;
}

#branding .env-badge.is-debug {
  background: rgba(69, 226, 204, 0.25);
}

#branding .env-badge.is-live {
  background: rgba(255, 255, 255, 0.14);
}

#header a:link,
#header a:visited {
  color: #fff;
}

#user-tools a:focus,
#user-tools button:focus {
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.35);
  border-radius: 8px;
}

.main {
  margin: 0 12px 12px;
}

#content {
  background: var(--admin-surface);
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  box-shadow: var(--admin-shadow);
}

#content h1 {
  margin: 0 0 0.75rem;
  color: var(--admin-text);
  font-size: 1.35rem;
  font-weight: 700;
}

#content h2 {
  color: var(--admin-text-soft);
}

.breadcrumbs {
  margin: 0 12px;
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: var(--admin-surface);
  box-shadow: 0 8px 20px rgba(18, 38, 58, 0.05);
  color: var(--admin-text-soft);
  font-weight: 500;
}

.breadcrumbs a {
  color: var(--brand-secondary);
}

ul.messagelist {
  margin-top: 0.5rem;
}

ul.messagelist li {
  border-radius: 10px;
  border: 1px solid transparent;
  padding: 0.75rem 0.95rem;
  box-shadow: 0 6px 14px rgba(18, 38, 58, 0.06);
}

ul.messagelist li.success {
  background: #effcf7;
  border-color: #7dd3ae;
  color: #10603d;
}

ul.messagelist li.warning {
  background: #fff7eb;
  border-color: #fdba74;
  color: #92400e;
}

ul.messagelist li.error {
  background: #fff0f1;
  border-color: #fda4af;
  color: #991b1b;
}

ul.messagelist li.info {
  background: #eff6ff;
  border-color: #93c5fd;
  color: #1e3a8a;
}

div.help,
p.help,
form .help {
  color: var(--admin-text-soft);
}

.module h2,
.module caption,
.inline-group h2 {
  background: linear-gradient(180deg, #f6f9ff, #eef4ff);
  color: var(--admin-text);
  border-bottom: 1px solid #d8e4f2;
}

.module caption a.section,
.module h2 a {
  color: var(--brand-secondary);
}

.app-list {
  display: block;
}

.admin-app-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 0.95rem;
}

.admin-app-card {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: linear-gradient(180deg, #ffffff 0%, #f8fbff 100%);
  box-shadow: 0 10px 20px rgba(18, 38, 58, 0.08);
  padding: 0.9rem;
}

.admin-app-card.is-active {
  border-color: color-mix(in srgb, var(--brand-primary) 65%, white);
  box-shadow: 0 12px 24px rgba(4, 104, 189, 0.14);
}

.admin-app-card-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.6rem;
  margin-bottom: 0.75rem;
  padding-bottom: 0.6rem;
  border-bottom: 1px solid #e2eaf3;
}

.admin-app-card-head h2 {
  margin: 0;
}

.admin-app-title {
  color: var(--admin-text);
  text-decoration: none;
  font-size: 1.05rem;
  font-weight: 700;
}

.admin-app-title:hover {
  color: var(--brand-secondary);
}

.admin-app-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0.18rem 0.58rem;
  font-size: 0.74rem;
  font-weight: 700;
  color: var(--brand-secondary);
  background: #eaf4ff;
  border: 1px solid #c5ddff;
  white-space: nowrap;
}

.admin-model-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  gap: 0.55rem;
}

.admin-model-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.7rem;
  border: 1px solid #e1eaf4;
  border-radius: 11px;
  background: #fff;
  padding: 0.6rem 0.65rem;
}

.admin-model-item.is-current {
  border-color: color-mix(in srgb, var(--brand-primary) 70%, white);
  background: #f4fbff;
}

.admin-model-main {
  min-width: 0;
}

.admin-model-main a,
.admin-model-main span {
  color: var(--admin-text);
  text-decoration: none;
  font-weight: 600;
}

.admin-model-main a:hover {
  color: var(--brand-secondary);
}

.admin-model-actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-end;
  gap: 0.35rem;
}

.admin-model-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 999px;
  padding: 0.2rem 0.62rem;
  border: 1px solid #c7dbf2;
  background: #f0f7ff;
  color: var(--brand-secondary);
  text-decoration: none;
  font-size: 0.78rem;
  font-weight: 700;
  white-space: nowrap;
}

.admin-model-link.addlink,
.admin-model-link.changelink,
.admin-model-link.viewlink {
  background-image: none;
}

.admin-model-link:hover {
  background: #deedff;
}

.admin-model-link.is-disabled {
  background: #f7f8fa;
  color: #8ea0b2;
  border-color: #e2e8f0;
  cursor: not-allowed;
}

.admin-empty-state {
  border: 1px dashed #b8c9dd;
  border-radius: 12px;
  background: #f8fbff;
  color: var(--admin-text-soft);
  padding: 0.95rem;
}

.object-tools a {
  border-radius: 10px;
  padding: 0.4rem 0.75rem;
  background: #edf5ff;
  color: var(--brand-secondary);
  border: 1px solid #c8ddff;
}

.object-tools {
  margin: 0 0 0.8rem;
}

.object-tools a:hover {
  background: #dcecff;
}

.change-list .actions {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: var(--admin-surface-muted);
  padding: 0.7rem;
  margin-bottom: 0.8rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
  align-items: center;
}

.change-list .object-tools {
  float: none;
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
}

.change-list .results {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  overflow: auto;
  box-shadow: 0 8px 18px rgba(18, 38, 58, 0.05);
}

#changelist table {
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
}

#changelist table th,
#changelist table td {
  padding: 0.62rem 0.72rem;
  vertical-align: middle;
}

#changelist table thead th {
  background: #f1f6fd;
}

#changelist table tbody tr:nth-child(odd) {
  background: #fbfcfe;
}

#changelist table tbody tr:hover {
  background: #edf7ff;
}

#changelist-filter {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: var(--admin-surface);
  box-shadow: 0 6px 14px rgba(18, 38, 58, 0.05);
  padding: 0.75rem;
}

#changelist-filter h2,
#changelist-filter h3 {
  border-radius: 8px;
  background: #eef5ff;
  color: var(--admin-text);
  border-bottom: 1px solid #d4e4f6;
  margin-bottom: 0.5rem;
}

.actions label {
  color: var(--admin-text-soft);
  font-weight: 600;
}

.actions select[name="action"] {
  min-width: 240px;
  background: #fff;
  border-color: #bad1e8;
}

.actions select[name="action"]:focus {
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 3px rgba(26, 187, 200, 0.2);
}

.actions .button {
  white-space: nowrap;
}

fieldset.module {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  margin-bottom: 1rem;
  background: var(--admin-surface);
  box-shadow: 0 6px 14px rgba(18, 38, 58, 0.04);
}

fieldset.module h2 {
  border-radius: 11px 11px 0 0;
  background: #f4f8fd;
  color: var(--admin-text);
}

fieldset.module .description {
  color: var(--admin-text-soft);
}

.inline-group {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  overflow: hidden;
  margin-top: 1rem;
}

.inline-group .tabular thead th {
  background: #f3f7fd;
}

.inline-group .tabular td,
.inline-group .tabular th {
  padding: 0.55rem 0.62rem;
}

.inline-group .tabular tr:nth-child(even) td {
  background: #fbfdff;
}

.inline-group .tabular tr:hover td {
  background: #f1f8ff;
}

.inline-related {
  border-bottom: 1px solid #d9e6f3;
}

.inline-related:last-child {
  border-bottom: 0;
}

.aligned .form-row,
.change-form .submit-row {
  padding-inline: 1rem;
}

.aligned .form-row {
  border-bottom: 1px solid #edf2f8;
  padding-block: 0.7rem;
}

.aligned .form-row:last-child {
  border-bottom: 0;
}

.aligned label {
  color: var(--admin-text);
  font-weight: 600;
}

.change-form .submit-row {
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: #f7fbff;
}

.change-form .submit-row a.deletelink {
  border-radius: 10px;
  background: #fff1f2;
  border: 1px solid #fecdd3;
  color: #9f1239;
}

.change-form .submit-row a.deletelink:hover {
  background: #ffe4e6;
}

.admin-login #container {
  background: transparent;
  border: 0;
}

.admin-login #header,
.admin-login .breadcrumbs {
  display: none;
}

.admin-login .main {
  margin: 0;
}

.admin-login-shell {
  min-height: calc(100vh - 4rem);
  display: grid;
  place-items: center;
  padding: 1rem;
}

.admin-login-card {
  width: min(480px, 100%);
  background: var(--admin-surface);
  border: 1px solid var(--admin-border);
  border-radius: 18px;
  box-shadow: 0 22px 48px rgba(4, 104, 189, 0.16);
  padding: 1.3rem 1.2rem;
}

.admin-login-intro h1 {
  margin: 0 0 0.4rem;
  color: var(--admin-text);
  font-size: 1.3rem;
}

.admin-login-intro p {
  margin: 0 0 1rem;
  color: var(--admin-text-soft);
}

.admin-login #content {
  background: transparent;
  border: 0;
  box-shadow: none;
}

.admin-login .submit-row {
  padding: 0;
  border: 0;
  margin-top: 0.8rem;
}

.admin-login .submit-row input {
  width: 100%;
}

.admin-dashboard-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 0.9rem;
  margin-bottom: 1rem;
}

.admin-dashboard-card {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: linear-gradient(180deg, #ffffff, #f8fbff);
  box-shadow: 0 10px 20px rgba(18, 38, 58, 0.08);
  padding: 0.95rem;
}

.admin-dashboard-card h3 {
  margin: 0;
  color: var(--admin-text);
  font-size: 1.02rem;
}

.admin-dashboard-card p {
  margin: 0.5rem 0 0.7rem;
  color: var(--admin-text-soft);
  min-height: 2.2em;
}

.admin-dashboard-links {
  display: flex;
  gap: 0.45rem;
  flex-wrap: wrap;
}

.admin-dashboard-links a {
  border-radius: 999px;
  border: 1px solid #c6ddff;
  background: #eaf4ff;
  color: var(--brand-secondary);
  padding: 0.25rem 0.65rem;
  font-size: 0.82rem;
  text-decoration: none;
}

.admin-dashboard-links a:hover {
  background: #d7e9ff;
}

#content-related {
  margin-top: 0;
}

#recent-actions-module {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: linear-gradient(180deg, #ffffff, #f8fbff);
  box-shadow: 0 10px 20px rgba(18, 38, 58, 0.08);
  overflow: hidden;
}

#recent-actions-module h2 {
  margin: 0;
  padding: 0.72rem 0.88rem;
  font-size: 1.02rem;
}

#recent-actions-module h3 {
  margin: 0;
  padding: 0.6rem 0.88rem;
  font-size: 0.86rem;
  color: var(--admin-text-soft);
}

#recent-actions-module .actionlist {
  list-style: none;
  margin: 0;
  padding: 0.3rem 0.55rem 0.6rem;
}

#recent-actions-module .actionlist li {
  border: 1px solid #e2eaf4;
  border-radius: 10px;
  background: #fff;
  padding: 0.5rem 0.6rem;
  margin-top: 0.42rem;
}

#recent-actions-module .actionlist li.addlink {
  border-inline-start: 3px solid #22c55e;
}

#recent-actions-module .actionlist li.changelink {
  border-inline-start: 3px solid #3b82f6;
}

#recent-actions-module .actionlist li.deletelink {
  border-inline-start: 3px solid #ef4444;
}

#recent-actions-module .actionlist a {
  color: var(--brand-secondary);
}

@media (min-width: 768px) {
  .admin-app-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .admin-dashboard-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1200px) {
  .admin-app-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .admin-dashboard-grid {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

@media (max-width: 1024px) {
  #header {
    margin: 8px;
  }

  .main {
    margin: 0 8px 8px;
  }

  .breadcrumbs {
    margin: 0 8px;
  }
}

@media (max-width: 767px) {
  #header {
    border-radius: 10px;
  }

  #content {
    border-radius: 10px;
  }

  .breadcrumbs {
    border-radius: 8px;
    font-size: 0.84rem;
  }

  input[type="text"],
  input[type="password"],
  input[type="email"],
  input[type="number"],
  input[type="url"],
  input[type="search"],
  textarea,
  select {
    min-height: 42px;
    font-size: 16px;
  }

  .button,
  input[type="submit"],
  input[type="button"],
  .submit-row input,
  a.button {
    min-height: 42px;
  }

  .admin-app-card-head {
    align-items: flex-start;
    flex-direction: column;
  }

  .admin-model-item {
    flex-direction: column;
    align-items: stretch;
  }

  .admin-model-actions {
    justify-content: flex-start;
  }

  .actions select[name="action"] {
    min-width: 100%;
    width: 100%;
  }
}

.is-filter-hidden {
  display: none !important;
}

.status-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 2.5rem;
  border-radius: 999px;
  padding: 0.2rem 0.56rem;
  font-size: 0.76rem;
  font-weight: 700;
  border: 1px solid transparent;
  white-space: nowrap;
}

.status-badge--success {
  background: #ecfdf3;
  border-color: #86efac;
  color: #166534;
}

.status-badge--warning {
  background: #fff7ed;
  border-color: #fdba74;
  color: #9a3412;
}

.status-badge--danger {
  background: #fff1f2;
  border-color: #fda4af;
  color: #9f1239;
}

.status-badge--muted {
  background: #f1f5f9;
  border-color: #cbd5e1;
  color: #334155;
}

.rating-reason {
  display: inline-block;
  max-width: 20rem;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.rating-reason--critical {
  color: #b91c1c;
  font-weight: 600;
}

.admin-command-shell {
  margin: 0 12px 10px;
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: var(--admin-surface);
  box-shadow: 0 6px 14px rgba(18, 38, 58, 0.05);
  padding: 0.65rem;
}

.admin-commandbar {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.admin-commandbar input[type="search"] {
  flex: 1;
  min-width: 10rem;
  border-radius: 10px;
}

.admin-command-button {
  border: 1px solid #c6daef;
  border-radius: 9px;
  background: #f1f7ff;
  color: var(--brand-secondary);
  padding: 0.4rem 0.72rem;
  font-weight: 600;
  cursor: pointer;
}

.admin-command-button:hover {
  background: #e1efff;
}

.admin-command-links {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin-top: 0.58rem;
}

.admin-command-chip {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #c9ddf3;
  background: #f1f8ff;
  color: var(--brand-secondary);
  text-decoration: none;
  font-size: 0.78rem;
  font-weight: 700;
  padding: 0.22rem 0.62rem;
}

.admin-command-chip:hover {
  background: #e1efff;
}

.admin-side-nav {
  width: 18rem;
  border-inline-start: 1px solid var(--admin-border);
  background: var(--admin-surface);
}

.admin-side-nav-head {
  position: sticky;
  top: 0;
  z-index: 4;
  background: var(--admin-surface);
  padding: 0.7rem;
  border-bottom: 1px solid #e2eaf4;
}

.admin-side-nav-head input[type="search"] {
  width: 100%;
}

.admin-side-groups {
  max-height: calc(100vh - 9.5rem);
  overflow: auto;
  padding: 0.5rem 0.55rem 0.8rem;
}

.admin-side-group {
  border: 1px solid #e1eaf4;
  border-radius: 10px;
  margin-bottom: 0.55rem;
  background: #fbfdff;
}

.admin-side-group summary {
  cursor: pointer;
  list-style: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.4rem;
  padding: 0.48rem 0.58rem;
  font-weight: 700;
  color: var(--admin-text);
}

.admin-side-group summary::-webkit-details-marker {
  display: none;
}

.admin-side-group-count {
  border-radius: 999px;
  border: 1px solid #ccddf0;
  background: #edf5ff;
  color: var(--brand-secondary);
  font-size: 0.72rem;
  padding: 0 0.45rem;
}

.admin-side-items {
  list-style: none;
  margin: 0;
  padding: 0.15rem 0.4rem 0.5rem;
}

.admin-side-items li {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.45rem;
  border-radius: 8px;
  padding: 0.34rem 0.45rem;
}

.admin-side-items li:hover {
  background: #edf5ff;
}

.admin-side-items a {
  color: var(--admin-text);
  text-decoration: none;
}

.admin-side-items a[aria-current="page"] {
  color: var(--brand-secondary);
  font-weight: 700;
}

.admin-side-add {
  border-radius: 999px;
  border: 1px solid #cde0f7;
  color: var(--brand-secondary);
  width: 1.4rem;
  height: 1.4rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: #f1f8ff;
  font-weight: 700;
}

.admin-side-disabled {
  color: #8b9db1;
}

.admin-overview-card {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: #fff;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.05);
  padding: 0.95rem 1rem;
  margin-bottom: 0.95rem;
}

.admin-overview-card h2 {
  margin: 0;
  color: var(--admin-text);
}

.admin-overview-card p {
  margin: 0.42rem 0 0;
  color: var(--admin-text-soft);
}

.admin-overview-links {
  margin-top: 0.7rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
}

.admin-overview-card--compact {
  margin-bottom: 0.8rem;
}

.admin-role-priority {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: #fff;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.05);
  padding: 0.9rem;
  margin-bottom: 0.95rem;
}

.admin-role-priority-links {
  margin-top: 0.2rem;
}

.admin-workspace-switcher {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: #fff;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.05);
  padding: 0.9rem;
  margin-bottom: 0.95rem;
}

.admin-workspace-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 0.42rem;
  margin-bottom: 0.8rem;
}

.admin-workspace-tab {
  border: 1px solid #c8daf0;
  border-radius: 999px;
  background: #f3f8ff;
  color: #35516a;
  padding: 0.3rem 0.72rem;
  font-size: 0.84rem;
  font-weight: 700;
  cursor: pointer;
}

.admin-workspace-tab.is-active {
  background: #e2efff;
  border-color: #9ec5f8;
  color: var(--brand-secondary);
}

.admin-workspace-panel {
  display: none;
}

.admin-workspace-panel.is-active {
  display: block;
}

.admin-workspace-actions {
  display: grid;
  gap: 0.44rem;
  margin-bottom: 0.7rem;
}

.admin-workspace-actions a {
  border: 1px solid #d3e1f0;
  border-radius: 10px;
  background: #f8fbff;
  color: var(--admin-text);
  text-decoration: none;
  padding: 0.52rem 0.62rem;
  font-weight: 600;
}

.admin-workspace-actions a:hover {
  background: #edf5ff;
  border-color: #b9d2ee;
}

.admin-workspace-counters {
  display: grid;
  gap: 0.44rem;
  grid-template-columns: repeat(1, minmax(0, 1fr));
}

.admin-workspace-counters div {
  border: 1px solid #dce7f4;
  border-radius: 10px;
  background: #fff;
  padding: 0.45rem 0.58rem;
}

.admin-workspace-counters span {
  display: block;
  color: var(--admin-text-soft);
  font-size: 0.8rem;
}

.admin-workspace-counters strong {
  display: block;
  color: var(--admin-text);
  font-size: 1rem;
}

.admin-pinned-views {
  margin-top: 0.72rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
}

.admin-recent-list {
  display: grid;
  gap: 0.45rem;
}

.admin-recent-item {
  border: 1px solid #dce7f4;
  border-radius: 10px;
  background: #fff;
  color: var(--admin-text);
  text-decoration: none;
  padding: 0.46rem 0.58rem;
  font-weight: 600;
}

.admin-recent-item:hover {
  background: #f4f9ff;
}

.admin-stats-grid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 0.7rem;
  margin-bottom: 0.95rem;
}

.admin-stat-card {
  border: 1px solid #dbe7f5;
  border-radius: 12px;
  background: #fff;
  padding: 0.7rem 0.78rem;
}

.admin-stat-card h3 {
  margin: 0;
  color: var(--admin-text-soft);
  font-size: 0.88rem;
}

.admin-stat-card strong {
  margin-top: 0.2rem;
  display: block;
  color: var(--admin-text);
  font-size: 1.24rem;
}

.admin-dashboard-grid--workflow .admin-dashboard-card {
  background: #fff;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.05);
}

.admin-dashboard-card.is-priority {
  border-color: color-mix(in srgb, var(--brand-primary) 55%, #dbeafe);
}

.admin-favorite-toggle {
  border: 1px solid #c7d8eb;
  border-radius: 999px;
  background: #f5f9ff;
  color: #4b657c;
  width: 1.7rem;
  height: 1.7rem;
  line-height: 1;
  font-size: 0.95rem;
  cursor: pointer;
}

.admin-favorite-toggle.is-active {
  color: #ca8a04;
  border-color: #facc15;
  background: #fef9c3;
}

.admin-favorites-panel {
  border: 1px solid var(--admin-border);
  border-radius: 14px;
  background: #fff;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.05);
  padding: 0.9rem;
  margin-bottom: 1rem;
}

.admin-section-head h2 {
  margin: 0;
}

.admin-section-head p {
  margin: 0.32rem 0 0.66rem;
  color: var(--admin-text-soft);
}

.admin-favorites-list {
  display: grid;
  gap: 0.45rem;
}

.admin-favorite-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
  border: 1px solid #e2ebf5;
  border-radius: 10px;
  background: #fdfefe;
  padding: 0.44rem 0.55rem;
}

.admin-favorite-link {
  color: var(--admin-text);
  text-decoration: none;
  font-weight: 600;
}

.admin-favorite-remove {
  border: 1px solid #fca5a5;
  border-radius: 8px;
  background: #fff1f2;
  color: #9f1239;
  padding: 0.18rem 0.5rem;
  cursor: pointer;
}

.admin-favorites-empty {
  color: var(--admin-text-soft);
  margin: 0;
}

.admin-favorites-noscript {
  margin: 0;
  padding: 0 1rem 0 0;
}

.admin-filter-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin: 0.45rem 0 0.25rem;
}

.admin-filter-chip {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #c7dbf2;
  background: #f0f7ff;
  color: var(--brand-secondary);
  text-decoration: none;
  padding: 0.2rem 0.58rem;
  font-size: 0.78rem;
  font-weight: 700;
}

.admin-filter-chip:hover {
  background: #e1efff;
}

.admin-active-filter-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
  margin-top: 0.35rem;
}

.admin-active-filter-chip {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #f9a8d4;
  background: #fff1f2;
  color: #9f1239;
  text-decoration: none;
  padding: 0.16rem 0.55rem;
  font-size: 0.76rem;
  font-weight: 700;
}

.admin-active-filter-chip:hover {
  background: #ffe4e6;
}

.admin-active-filter-clear {
  display: inline-flex;
  align-items: center;
  border-radius: 999px;
  border: 1px solid #cbd5e1;
  background: #f8fafc;
  color: #334155;
  text-decoration: none;
  padding: 0.16rem 0.55rem;
  font-size: 0.76rem;
  font-weight: 700;
}

.admin-active-filter-clear:hover {
  background: #eef2f7;
}

.admin-saved-views {
  margin-top: 0.5rem;
  border-top: 1px dashed #d8e4f2;
  padding-top: 0.5rem;
}

.admin-saved-views-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.4rem;
}

.admin-saved-views-controls label {
  color: var(--admin-text-soft);
  font-weight: 600;
  font-size: 0.82rem;
}

.admin-saved-views-controls input[type="text"] {
  min-width: 13rem;
  max-width: 20rem;
  font-size: 0.86rem;
}

.admin-saved-view-list {
  margin-top: 0.45rem;
  display: grid;
  gap: 0.32rem;
}

.admin-saved-view-item {
  display: flex;
  flex-wrap: wrap;
  gap: 0.32rem;
  align-items: center;
}

.admin-saved-view-pin,
.admin-saved-view-remove {
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  background: #fff;
  color: #334155;
  font-size: 0.76rem;
  font-weight: 700;
  padding: 0.16rem 0.45rem;
  cursor: pointer;
}

.admin-saved-view-pin[aria-pressed="true"] {
  border-color: #facc15;
  background: #fef9c3;
  color: #92400e;
}

.admin-command-button[data-density-toggle][aria-pressed="true"] {
  border-color: #94a3b8;
  background: #f1f5f9;
  color: #0f172a;
}

.admin-saved-view-remove {
  border-color: #fda4af;
  color: #9f1239;
  background: #fff1f2;
}

.admin-pinned-empty {
  color: var(--admin-text-soft);
  font-size: 0.82rem;
}

.admin-changelist-toolbar {
  position: sticky;
  top: 0.4rem;
  z-index: 12;
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: #fff;
  padding: 0.55rem;
  margin-bottom: 0.75rem;
  box-shadow: 0 8px 16px rgba(18, 38, 58, 0.08);
}

.change-list #changelist-form .actions {
  position: sticky;
  top: 4.85rem;
  z-index: 11;
}

.change-list .paginator,
.change-list .paginator a,
.change-list .paginator .this-page {
  min-height: 2rem;
  border-radius: 8px;
}

.change-list .paginator a,
.change-list .paginator .this-page {
  padding: 0.2rem 0.5rem;
}

.admin-paginator {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.admin-paginator-meta {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 0.55rem;
  align-items: center;
  color: var(--admin-text-soft);
  font-weight: 600;
}

.admin-paginator-meta .showall {
  border-radius: 8px;
  border: 1px solid #cbd5e1;
  background: #f8fafc;
  color: var(--brand-secondary);
  text-decoration: none;
  padding: 0.2rem 0.5rem;
}

.admin-action-note {
  margin: 0.75rem 0 0;
  color: var(--admin-text-soft);
  font-size: 0.85rem;
}

#changelist table thead th {
  position: sticky;
  top: 0;
  z-index: 4;
}

#result_list tbody tr.is-row-link {
  cursor: pointer;
}

#result_list tbody tr.is-row-link:hover td,
#result_list tbody tr.is-row-link:hover th {
  background: #eaf4ff;
}

.admin-filter-toggle {
  display: none;
  border: 1px solid #c8daf0;
  background: #eef6ff;
  color: var(--brand-secondary);
  border-radius: 8px;
  padding: 0.34rem 0.62rem;
  font-weight: 700;
  margin-bottom: 0.62rem;
}

.admin-changeform-layout form > div {
  display: grid;
  gap: 0.9rem;
}

.admin-error-summary {
  border: 1px solid #fda4af;
  border-radius: 10px;
  background: #fff1f2;
  color: #881337;
  padding: 0.75rem 0.85rem;
}

.admin-error-summary h2 {
  margin: 0 0 0.45rem;
  color: #9f1239;
  font-size: 1rem;
}

.admin-error-summary ul {
  margin: 0;
  padding-inline-start: 1rem;
}

.admin-error-summary a {
  color: #9f1239;
}

.admin-inline-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
  margin-top: 0.4rem;
}

.admin-inline-toggle {
  margin-inline-start: 0.55rem;
  border: 1px solid #c9dcee;
  border-radius: 8px;
  background: #f1f8ff;
  color: var(--brand-secondary);
  padding: 0.15rem 0.48rem;
  font-size: 0.76rem;
  cursor: pointer;
}

.inline-group.is-collapsed .tabular,
.inline-group.is-collapsed .module {
  display: none;
}

.change-form .submit-row {
  position: sticky;
  bottom: 0;
  z-index: 25;
  margin-top: 0.6rem;
  box-shadow: 0 -8px 20px rgba(18, 38, 58, 0.1);
}

.change-form .submit-row input.default {
  box-shadow: none;
}

.change-form .submit-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.45rem;
  align-items: center;
}

.admin-more-actions {
  position: relative;
  display: inline-flex;
  align-items: center;
}

.admin-more-actions > summary {
  list-style: none;
  border: 1px solid #c7dbf2;
  border-radius: 10px;
  background: #f0f7ff;
  color: var(--brand-secondary);
  font-weight: 700;
  padding: 0.45rem 0.75rem;
  cursor: pointer;
}

.admin-more-actions > summary::-webkit-details-marker {
  display: none;
}

.admin-more-actions[open] > summary {
  background: #e2efff;
}

.admin-more-actions-list {
  position: absolute;
  bottom: calc(100% + 0.4rem);
  inset-inline-end: 0;
  z-index: 40;
  min-width: 15rem;
  border: 1px solid var(--admin-border);
  border-radius: 12px;
  background: #fff;
  box-shadow: 0 10px 22px rgba(18, 38, 58, 0.14);
  padding: 0.55rem;
  display: grid;
  gap: 0.35rem;
}

.admin-more-actions-list input[type="submit"] {
  width: 100%;
  box-shadow: none;
}

.admin-more-actions-list .closelink {
  text-align: center;
  border-radius: 10px;
  border: 1px solid #cbd5e1;
  background: #f8fafc;
  color: #334155;
  text-decoration: none;
  padding: 0.45rem 0.7rem;
}

body.admin-density-compact #changelist table th,
body.admin-density-compact #changelist table td {
  padding: 0.32rem 0.45rem;
}

body.admin-density-compact .change-list .actions {
  padding: 0.4rem;
}

body.admin-density-compact .admin-changelist-toolbar {
  padding: 0.42rem;
}

body.admin-density-compact .admin-filter-chip,
body.admin-density-compact .admin-active-filter-chip {
  padding: 0.12rem 0.45rem;
}

a:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
summary:focus-visible {
  outline: 2px solid var(--brand-accent);
  outline-offset: 2px;
}

@media (min-width: 1024px) {
  .admin-stats-grid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .admin-workspace-counters {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .change-form .fieldBox,
  .change-form .form-row {
    display: grid;
    grid-template-columns: minmax(11rem, 20%) minmax(0, 1fr);
    align-items: start;
    gap: 0.85rem;
  }

  .change-form .fieldBox label,
  .change-form .form-row label {
    margin-top: 0.3rem;
  }
}

@media (max-width: 1200px) {
  .admin-side-nav {
    width: 15.5rem;
  }
}

@media (max-width: 992px) {
  .admin-command-shell {
    margin: 0 8px 8px;
  }

  .admin-commandbar {
    flex-wrap: wrap;
  }

  .change-list #changelist {
    display: block;
  }

  .admin-filter-toggle {
    display: inline-flex;
  }

  .change-list #changelist #changelist-filter {
    display: none;
  }

  .change-list #changelist.filters-open #changelist-filter {
    display: block;
    margin-bottom: 0.6rem;
  }

  .change-list #changelist-form .actions {
    top: 6.8rem;
  }
}

@media (max-width: 767px) {
  .admin-side-nav {
    width: 100%;
  }

  .admin-command-button {
    min-height: 42px;
  }

  .admin-commandbar input[type="search"] {
    width: 100%;
  }

  .change-form .submit-row {
    border-radius: 10px;
  }
}


/* =============================================================
   UX POLISH  –  Comprehensive Form & Component Improvements
   ============================================================= */

/* ---------- 1. Smooth focus transitions ---------- */
input[type="text"],
input[type="password"],
input[type="email"],
input[type="number"],
input[type="url"],
input[type="tel"],
input[type="search"],
textarea,
select {
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

/* ---------- 2. Full-width inputs in change forms ---------- */
.change-form .aligned input[type="text"],
.change-form .aligned input[type="password"],
.change-form .aligned input[type="email"],
.change-form .aligned input[type="number"],
.change-form .aligned input[type="url"],
.change-form .aligned input[type="tel"],
.change-form .aligned textarea,
.change-form .aligned select:not([multiple]) {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* Override Django's fixed-width widget classes */
.vTextField,
.vURLField {
  width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box;
}

.vLargeTextField {
  width: 100% !important;
  max-width: 100% !important;
  min-height: 11rem;
  box-sizing: border-box;
  resize: vertical;
  line-height: 1.75;
}

.vIntegerField,
.vBigIntegerField {
  width: auto !important;
  min-width: 8rem;
  max-width: 100%;
  box-sizing: border-box;
}

/* ---------- 3. Textarea improvements ---------- */
.change-form textarea {
  min-height: 9rem;
  resize: vertical;
  line-height: 1.75;
}

.inline-group textarea {
  min-height: 4.5rem;
}

/* ---------- 4. Select improvements ---------- */
.change-form select {
  min-height: 2.5rem;
  cursor: pointer;
}

select[multiple] {
  min-height: 8rem;
  padding: 0.35rem;
  width: 100%;
  box-sizing: border-box;
}

/* ---------- 5. Related widget wrapper (FK/M2M +/edit/view icons) ---------- */
.related-widget-wrapper {
  display: flex;
  align-items: center;
  gap: 0.45rem;
  width: 100%;
}

.related-widget-wrapper select,
.related-widget-wrapper input[type="text"],
.related-widget-wrapper input[type="number"] {
  flex: 1;
  min-width: 0;
}

.related-widget-wrapper-link,
.related-widget-wrapper .change-related,
.related-widget-wrapper .delete-related,
.related-widget-wrapper .add-related,
.related-widget-wrapper .view-related {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2.2rem;
  height: 2.2rem;
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  background: var(--admin-surface-muted);
  flex-shrink: 0;
  text-decoration: none;
  opacity: 0.8;
  transition: opacity 0.2s, background 0.2s, border-color 0.2s;
}

.related-widget-wrapper-link:hover,
.related-widget-wrapper .change-related:hover,
.related-widget-wrapper .delete-related:hover,
.related-widget-wrapper .add-related:hover,
.related-widget-wrapper .view-related:hover {
  opacity: 1;
  background: #edf5ff;
  border-color: var(--brand-primary);
}

/* ---------- 6. Help text improvements ---------- */
.help,
.helptext,
p.help,
span.help {
  display: block;
  margin-top: 0.38rem;
  color: var(--admin-text-soft);
  font-size: 0.82rem;
  line-height: 1.6;
}

/* On desktop grid layout, help text goes under the input column */
@media (min-width: 1024px) {
  .change-form .form-row .help,
  .change-form .form-row .helptext,
  .change-form .form-row p.help,
  .change-form .form-row span.help {
    grid-column: 2;
  }

  .change-form .form-row .errorlist {
    grid-column: 2;
  }
}

/* ---------- 7. Readonly field styling ---------- */
.change-form .readonly,
.change-form div.readonly,
.change-form p.readonly {
  padding: 0.55rem 0.75rem;
  border: 1.5px dashed var(--admin-border);
  border-radius: 10px;
  background: var(--admin-surface-muted);
  color: var(--admin-text);
  min-height: 2.2rem;
  line-height: 1.6;
  display: inline-block;
  min-width: 6rem;
}

/* ---------- 8. Date/Time fields & shortcuts ---------- */
.vDateField,
.vTimeField {
  width: auto !important;
  min-width: 10rem;
  max-width: 14rem;
}

.datetimeshortcuts {
  display: inline-flex;
  align-items: center;
  gap: 0.32rem;
  margin-inline-start: 0.45rem;
  white-space: nowrap;
}

.datetimeshortcuts a {
  display: inline-flex;
  align-items: center;
  gap: 0.2rem;
  padding: 0.25rem 0.55rem;
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  background: var(--admin-surface-muted);
  color: var(--brand-secondary);
  text-decoration: none;
  font-size: 0.8rem;
  font-weight: 600;
  transition: background 0.2s, border-color 0.2s;
}

.datetimeshortcuts a:hover {
  background: #edf5ff;
  border-color: var(--brand-primary);
}

/* Calendar & clock popups */
.calendarbox,
.clockbox {
  border-radius: 12px !important;
  border: 1px solid var(--admin-border) !important;
  box-shadow: var(--admin-shadow) !important;
  overflow: hidden;
}

.calendar caption,
.calendarbox .calendar-shortcuts {
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary)) !important;
  color: #fff !important;
  font-weight: 600;
}

.calendar td a {
  border-radius: 6px;
  transition: background 0.15s;
}

.calendar td.today a {
  background: var(--brand-primary) !important;
  color: #fff !important;
  font-weight: 700;
}

.calendar td a:hover {
  background: #e0f6f8 !important;
}

.calendar-cancel,
.calendar-cancel a {
  border-radius: 0 0 12px 12px;
}

.clockbox h2 {
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary)) !important;
  color: #fff !important;
  padding: 0.55rem 0.75rem;
  font-weight: 600;
  margin: 0;
}

.timelist a {
  border-radius: 6px;
  padding: 0.35rem 0.65rem;
  display: block;
  text-decoration: none;
  transition: background 0.15s;
}

.timelist a:hover {
  background: #edf5ff;
}

/* ---------- 9. Checkbox / Boolean alignment ---------- */
input[type="checkbox"] {
  width: 1.2rem;
  height: 1.2rem;
  accent-color: var(--brand-primary);
  vertical-align: middle;
  cursor: pointer;
  border-radius: 4px;
}

.form-row input[type="checkbox"] + label,
.checkbox-row label {
  display: inline;
  vertical-align: middle;
  margin-inline-start: 0.35rem;
  cursor: pointer;
}

/* ---------- 10. Color input ---------- */
input[type="color"] {
  width: 3.5rem;
  height: 2.5rem;
  padding: 0.2rem;
  border: 1px solid var(--admin-border);
  border-radius: 8px;
  cursor: pointer;
  background: var(--admin-surface);
  vertical-align: middle;
  transition: border-color 0.2s;
}

input[type="color"]:hover,
input[type="color"]:focus {
  border-color: var(--brand-primary);
}

input[type="color"]::-webkit-color-swatch-wrapper {
  padding: 2px;
}

input[type="color"]::-webkit-color-swatch {
  border: none;
  border-radius: 5px;
}

/* ---------- 11. File upload ---------- */
input[type="file"] {
  padding: 0.55rem;
  border: 1.5px dashed var(--admin-border);
  border-radius: 10px;
  background: var(--admin-surface-muted);
  width: 100%;
  box-sizing: border-box;
  cursor: pointer;
  font-size: 0.88rem;
  transition: border-color 0.2s, background 0.2s;
}

input[type="file"]:hover {
  border-color: var(--brand-primary);
  background: #f0fafb;
}

.file-upload,
.clearable-file-input {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0.55rem;
}

/* Currently displayed file link */
.file-upload a,
.clearable-file-input a {
  color: var(--brand-secondary);
  font-weight: 600;
}

/* ---------- 12. Image previews in forms ---------- */
.change-form .field-box img,
.change-form .form-row img,
.inline-related img {
  max-width: 180px;
  height: auto;
  border-radius: 8px;
  border: 1px solid var(--admin-border);
  margin: 0.35rem 0;
  object-fit: cover;
}

/* ---------- 13. Inline table inputs ---------- */
.inline-group .tabular input[type="text"],
.inline-group .tabular input[type="number"],
.inline-group .tabular input[type="url"],
.inline-group .tabular input[type="email"],
.inline-group .tabular select,
.inline-group .tabular textarea {
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
}

.inline-group .tabular .vTextField {
  width: 100% !important;
}

.inline-group .tabular .vIntegerField {
  width: 100% !important;
  min-width: 5rem;
}

/* Inline stacked improvements */
.inline-group .inline-related h3 {
  background: #f3f7fd;
  padding: 0.6rem 0.8rem;
  border-bottom: 1px solid #e2ecf5;
  font-weight: 700;
}

.inline-group .inline-related.has_original .inline_label {
  font-weight: 700;
  color: var(--admin-text);
}

/* ---------- 14. Form row error states ---------- */
.form-row.errors input,
.form-row.errors textarea,
.form-row.errors select {
  border-color: #fda4af !important;
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.12) !important;
}

.form-row .errorlist {
  color: #dc2626;
  font-size: 0.82rem;
  font-weight: 600;
  margin: 0.25rem 0 0;
  padding: 0;
  list-style: none;
}

.form-row .errorlist li {
  padding: 0.18rem 0;
}

.form-row .errorlist li::before {
  content: '⚠ ';
}

/* ---------- 15. Form row hover highlight ---------- */
.aligned .form-row {
  transition: background 0.15s;
  border-radius: 6px;
}

.aligned .form-row:hover {
  background: #f8fbff;
}

/* ---------- 16. Placeholder styling ---------- */
::placeholder {
  color: #9ab0c6;
  font-weight: 400;
  opacity: 1;
}

/* ---------- 17. Label overflow for long field names ---------- */
.change-form .aligned label {
  overflow-wrap: break-word;
  word-break: break-word;
  line-height: 1.55;
}

/* ---------- 18. Submit button press feedback ---------- */
.submit-row input[type="submit"]:active {
  transform: scale(0.97);
  opacity: 0.85;
}

/* ---------- 19. Autocomplete (select2) widget ---------- */
.select2-container--admin-autocomplete .select2-selection--single {
  border: 1px solid var(--admin-border) !important;
  border-radius: 10px !important;
  min-height: 2.5rem !important;
  padding: 0.35rem 0.65rem !important;
  background: var(--admin-surface) !important;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.select2-container--admin-autocomplete .select2-selection--single:focus-within,
.select2-container--admin-autocomplete.select2-container--focus .select2-selection--single,
.select2-container--admin-autocomplete.select2-container--open .select2-selection--single {
  border-color: var(--brand-primary) !important;
  box-shadow: 0 0 0 3px rgba(26, 187, 200, 0.23) !important;
}

.select2-container--admin-autocomplete .select2-selection--multiple {
  border: 1px solid var(--admin-border) !important;
  border-radius: 10px !important;
  min-height: 2.5rem !important;
  padding: 0.25rem 0.5rem !important;
  background: var(--admin-surface) !important;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.select2-container--admin-autocomplete .select2-selection--multiple:focus-within,
.select2-container--admin-autocomplete.select2-container--focus .select2-selection--multiple,
.select2-container--admin-autocomplete.select2-container--open .select2-selection--multiple {
  border-color: var(--brand-primary) !important;
  box-shadow: 0 0 0 3px rgba(26, 187, 200, 0.23) !important;
}

.select2-container--admin-autocomplete .select2-selection__rendered {
  line-height: 2rem !important;
  color: var(--admin-text) !important;
}

.select2-container--admin-autocomplete .select2-selection__arrow {
  height: 2.4rem !important;
}

.select2-dropdown {
  border: 1px solid var(--admin-border) !important;
  border-radius: 10px !important;
  box-shadow: var(--admin-shadow) !important;
  overflow: hidden;
}

.select2-results__option {
  padding: 0.45rem 0.65rem !important;
  transition: background 0.12s;
}

.select2-results__option--highlighted {
  background: linear-gradient(135deg, var(--brand-primary), var(--brand-secondary)) !important;
  color: #fff !important;
}

.select2-search--dropdown .select2-search__field {
  border: 1px solid var(--admin-border) !important;
  border-radius: 8px !important;
  padding: 0.45rem 0.65rem !important;
}

/* ---------- 20. Compact density – forms ---------- */
body.admin-density-compact .aligned .form-row {
  padding-block: 0.42rem;
}

body.admin-density-compact .change-form textarea {
  min-height: 5rem;
}

body.admin-density-compact .vLargeTextField {
  min-height: 6rem;
}

/* ---------- 21. Scrollbar styling ---------- */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--admin-bg);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #b0c4d9;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #8fa5b8;
}

/* ---------- 22. Mobile improvements ---------- */
@media (max-width: 767px) {
  .change-form .aligned input[type="text"],
  .change-form .aligned input[type="password"],
  .change-form .aligned input[type="email"],
  .change-form .aligned input[type="number"],
  .change-form .aligned input[type="url"],
  .change-form .aligned textarea,
  .change-form .aligned select {
    font-size: 16px; /* prevents iOS zoom on focus */
    min-height: 2.8rem;
  }

  .datetimeshortcuts {
    display: flex;
    flex-wrap: wrap;
    margin-inline-start: 0;
    margin-top: 0.35rem;
  }

  .related-widget-wrapper {
    flex-wrap: wrap;
  }

  .change-form textarea {
    min-height: 7rem;
  }
}

/* ---------- 23. Print styles ---------- */
@media print {
  #header,
  .admin-command-shell,
  .submit-row,
  .object-tools,
  .admin-side-nav,
  .breadcrumbs,
  .admin-filter-toggle {
    display: none !important;
  }

  body {
    background: #fff !important;
    color: #000 !important;
  }

  fieldset.module {
    box-shadow: none !important;
    border: 1px solid #ccc !important;
    page-break-inside: avoid;
  }
}

/* ---------- 24. Dark theme ---------- */
html[data-theme="dark"] {
  --admin-bg: #0f172a;
  --admin-surface: #1e293b;
  --admin-surface-muted: #283548;
  --admin-border: #3b4f66;
  --admin-text: #e2e8f0;
  --admin-text-soft: #94a3b8;
  --admin-shadow: 0 10px 26px rgba(0, 0, 0, 0.3);
}

@media (prefers-color-scheme: dark) {
  html[data-theme="auto"] {
    --admin-bg: #0f172a;
    --admin-surface: #1e293b;
    --admin-surface-muted: #283548;
    --admin-border: #3b4f66;
    --admin-text: #e2e8f0;
    --admin-text-soft: #94a3b8;
    --admin-shadow: 0 10px 26px rgba(0, 0, 0, 0.3);
  }
}

/* Dark mode – background */
html[data-theme="dark"] body {
  background: radial-gradient(circle at top right, rgba(26, 187, 200, 0.08), transparent 40%), var(--admin-bg);
}

@media (prefers-color-scheme: dark) {
  html[data-theme="auto"] body {
    background: radial-gradient(circle at top right, rgba(26, 187, 200, 0.08), transparent 40%), var(--admin-bg);
  }
}

/* Dark mode – changelist table */
html[data-theme="dark"] #changelist table thead th {
  background: #253347;
}

html[data-theme="dark"] #changelist table tbody tr:nth-child(odd) {
  background: #1a2a3d;
}

html[data-theme="dark"] #changelist table tbody tr:hover {
  background: #243651;
}

/* Dark mode – fieldsets */
html[data-theme="dark"] fieldset.module h2 {
  background: #253347;
}

html[data-theme="dark"] .aligned .form-row {
  border-bottom-color: #2d3f55;
}

html[data-theme="dark"] .aligned .form-row:hover {
  background: #243044;
}

/* Dark mode – toolbar & actions */
html[data-theme="dark"] .admin-changelist-toolbar {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}

html[data-theme="dark"] .change-list .actions {
  background: #283548;
}

html[data-theme="dark"] .change-form .submit-row {
  background: #1a2a3d;
}

/* Dark mode – chips & buttons */
html[data-theme="dark"] .admin-filter-chip {
  background: #253347;
  border-color: #3b5068;
  color: #93c5fd;
}

html[data-theme="dark"] .admin-command-button {
  background: #283548;
  border-color: #3b5068;
  color: #93c5fd;
}

html[data-theme="dark"] .object-tools a {
  background: #253347;
  border-color: #3b5068;
  color: #93c5fd;
}

html[data-theme="dark"] .datetimeshortcuts a {
  background: #283548;
  border-color: #3b5068;
  color: #93c5fd;
}

/* Dark mode – filters & nav */
html[data-theme="dark"] #changelist-filter {
  background: var(--admin-surface);
}

html[data-theme="dark"] #changelist-filter h2,
html[data-theme="dark"] #changelist-filter h3 {
  background: #253347;
  border-bottom-color: #3b5068;
}

html[data-theme="dark"] .admin-command-shell {
  border-color: var(--admin-border);
}

html[data-theme="dark"] .admin-side-nav {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}

/* Dark mode – inputs */
html[data-theme="dark"] ::placeholder {
  color: #5a7089;
}

html[data-theme="dark"] input[type="file"] {
  background: #283548;
  border-color: #3b5068;
}

html[data-theme="dark"] input[type="file"]:hover {
  background: #2d3d54;
}

html[data-theme="dark"] .change-form .readonly,
html[data-theme="dark"] .change-form div.readonly {
  background: #283548;
  border-color: #3b5068;
}

/* Dark mode – inline groups */
html[data-theme="dark"] .inline-group .tabular thead th {
  background: #253347;
}

html[data-theme="dark"] .inline-group .tabular tr:nth-child(even) td {
  background: #1e2d40;
}

html[data-theme="dark"] .inline-group .tabular tr:hover td {
  background: #243651;
}

html[data-theme="dark"] .inline-group .inline-related h3 {
  background: #253347;
  border-bottom-color: #3b5068;
}

/* Dark mode – scrollbar */
html[data-theme="dark"] ::-webkit-scrollbar-track {
  background: #0f172a;
}

html[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: #3b5068;
}

html[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: #4b6480;
}

/* Dark mode – select2 autocomplete */
html[data-theme="dark"] .select2-dropdown {
  background: var(--admin-surface) !important;
  border-color: var(--admin-border) !important;
}

html[data-theme="dark"] .select2-results__option {
  color: var(--admin-text) !important;
}

html[data-theme="dark"] .select2-search--dropdown .select2-search__field {
  background: var(--admin-surface-muted) !important;
  border-color: var(--admin-border) !important;
  color: var(--admin-text) !important;
}

/* Dark mode – error summary */
html[data-theme="dark"] .admin-error-summary {
  background: #3b1c26;
  border-color: #75283c;
  color: #fda4af;
}

html[data-theme="dark"] .admin-error-summary h2 {
  color: #fb7185;
}

html[data-theme="dark"] .admin-error-summary a {
  color: #fb7185;
}

/* Dark mode – dashboard & cards */
html[data-theme="dark"] .admin-dashboard-card {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}

html[data-theme="dark"] .admin-stat-card {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}

html[data-theme="dark"] .admin-favorites-panel {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}

html[data-theme="dark"] .admin-favorite-item {
  background: var(--admin-surface-muted);
  border-color: var(--admin-border);
}

/* Dark mode – login */
html[data-theme="dark"] .admin-login-card {
  background: var(--admin-surface);
  border-color: var(--admin-border);
}
